# OrioksDecorator
Обертка над API orioks.miet.ru + скрапер. Реализация открытых API методов, а также больших за счет парсинга сайта.  

Для части работы с Rest API использован пакет [RestSharp](https://restsharp.dev/), 
для парсинга страниц - [AngleSharp](https://anglesharp.github.io/).

## Пример использования библиотеки

```c#
using OrioksDecorator;

var account = new OrioksAccount
{
    Username = "+++++",
    Password = "+++++",
    Token = "+++++"
};

var client = new OrioksClient(account);

var studentInfo = await client.Student.GetStudentInfo();

var fullName = studentInfo.FullName; // ФИО

var course = studentInfo.Course; // Курс
```

Для доступа к категориям Schedule и Student требуется использование токена, который выдается при аутентификации. Его можно получить не более 8 раз.
Получение токена требуется провести самостоятельно путем использования GET /api/v1/auth с стандартной Basic авторизацией.

## Возможности

В обертке имплементированы все стабильные методы оригинального REST API по двум категориям (нужен токен):
- Schedule
   - Получить номер типа текущей недели (от 1 до 4).
   - Получить номер текущей недели.
   - Получить список групп.
   - Получить время занятий.
   - Получить расписание группы по id группы.
- Student (получение задолжностей, текущей успеваемости и т.д.)
   - Получить информацию о текущем студенте.
   - Получить академ. долги текущего студента.
   - Получить информацию о пересдаче.
   - Получить список дисциплин текущего студента.
   - Получить мероприятия по дисциплине.

А также методы, реализованные с помощью скрапинга сайта:
- News
   - Получить новости с главной страницы с выбором получать/не получать тело новости (влияет на скорость загрузки).
   - Получить подробное описание новости (тело) для отдельного экземпляра новости.
- Disciplines 
   - Получить информацию о текущих дисциплинах в семестре.
   - Получить ресурсы по дисциплинам.
   - Получить дисциплины за произвольный семестр, если, конечно, известны id семестра и студента (id студента содержится в разбалловке каждой дисциплины, а id семестра внесены в словарь, т.к. местами у семестра неочевидный номер).
- Teacher
   - Получить развернутую информацию о преподавателе (фото, биография, публикации и т.д.)

## Планы, обновления

(01/03/2022)
В теории возможна реализация допфункций, не включенных в открытый API, путем отправки запросов "в лоб". Для этого вероятна последующая разработка еще одной библиотеки позже.

(05/03/2022)
Реализованы две категории путем парсинга html-страниц сайта.

(07/03/2022)
Реализовано получение ресурсов по экземпляру дисциплины, так же путем парса страниц.
Помимо того добавлена имплементация парсинга miet.ru/people, для получения подробной информации о преподавателе по его ФИО.
В планах добавить метод для постинга домашних заданий, метода для получения инфо по дисциплинам произвольных доступных семестров.
